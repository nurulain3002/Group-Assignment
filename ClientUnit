import socket

IP = "192.168.56.105" #ip address of the server
PORT = 8888 #port number that used

def main_menu():
    print('\nWelcome to the conversion calculator!')
    print('Which conversion would you like to do?')
    print('1. Length') #cm to m , m to cm
    print('2. Weight') #kg to pounds , pounds to kg
    print('3. Height') #cm to feet , feet to cm 
    print('4. Distance') #km to m , m to km
    print('5. Temperature') #celcius to fahrenhait, fahrenhait to celcius
    print('Enter E if you want to exit the calculator')
    print('Enter M if you want to return to the main menu')

socket = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)

main_menu()

while True: #ask user to enter the value
    choice = input()
                                    

    if choice == '1':
        print('\nThis is length unit conversion')
        print('1. cm to m')
        print('2. m to cm')
        choice_length = input()
        if choice_length == '1':
            print ('Enter a length in cm: ')
            cm=input()
            message = '\nLength from cm to m for ' + cm + ' is...'
            print('Message being send to server: ' + message + "\n")
            socket.sendto(message.encode('utf-8'), (IP, PORT))
            data, address = socket.recvfrom(2048)
            text = data.decode('utf-8')
            print('Result received from server %s : %s ' % (address, text) + "\n")
            main_menu()
        if choice_length == '2':
            print ('Enter a length in m: ')
            m=input()    
            message = '\nLength from m to cm for ' + m + ' is...'
            print('Message being send to server: ' + message + "\n")
            socket.sendto(message.encode('utf-8'), (IP, PORT))
            data, address = socket.recvfrom(2048)
            text = data.decode('utf-8')
            print('Result received from server %s : %s ' % (address, text) + "\n")
            main_menu()
        
    elif choice == '2':
        print('\nThis is weight unit conversion')
        print('1. kg to pounds')
        print('2. pounds to kg')
        choice_weight = input()
        if choice_weight == '1':
            print ('Enter a weight in kg: ')
            kg=input()
            message = '\nWeight from kg to pounds for ' + kg + ' is...'
            print('Message being send to server: ' + message + "\n")
            socket.sendto(message.encode('utf-8'), (IP, PORT))
            data, address = socket.recvfrom(2048)
            text = data.decode('utf-8')
            print('Result received from server %s : %s ' % (address, text) + "\n")
            main_menu()
        if choice_weight == '2':
            print ('Enter a weight in pounds: ')
            pounds=input()    
            message = '\nWeight from pounds to kg for ' + pounds + ' is...'
            print('Message being send to server: ' + message + "\n")
            socket.sendto(message.encode('utf-8'), (IP, PORT))
            data, address = socket.recvfrom(2048)
            text = data.decode('utf-8')
            print('Result received from server %s : %s ' % (address, text) + "\n")
            main_menu()
            
    elif choice == '3':
        print('\nThis is height unit conversion')
        print('1. cm to feet')
        print('2. feet to cm')
        choice_height = input()
        if choice_height == '1':
            print ('Enter a height in cm: ')
            cm=input()
            message = '\nHeight from cm to feet for ' + cm + ' is...'
            print('Message being send to server: ' + message + "\n")
            socket.sendto(message.encode('utf-8'), (IP, PORT))
            data, address = socket.recvfrom(2048)
            text = data.decode('utf-8')
            print('Result received from server %s : %s ' % (address, text) + "\n")
            main_menu()
        if choice_height == '2':
            print ('Enter a height in feet: ')
            feet=input()    
            message = '\nHeight from feet to cm for ' + feet + ' is...'
            print('Message being send to server: ' + message + "\n")
            socket.sendto(message.encode('utf-8'), (IP, PORT))
            data, address = socket.recvfrom(2048)
            text = data.decode('utf-8')
            print('Result received from server %s : %s ' % (address, text) + "\n")
            main_menu()
      
    elif choice == '4':
        print('\nThis is distance unit conversion')
        print('1. km to m')
        print('2. m to km')
        choice_distance = input()
        if choice_distance == '1':
            print ('Enter a distance in km: ')
            km=input()
            message = '\nDistance from km to m for ' + km + ' is...'
            print('Message being send to server: ' + message + "\n")
            socket.sendto(message.encode('utf-8'), (IP, PORT))
            data, address = socket.recvfrom(2048)
            text = data.decode('utf-8')
            print('Result received from server %s : %s ' % (address, text) + "\n")
            main_menu()
        if choice_distance == '2':
            print ('Enter a distance in m: ')
            m=input()    
            message = '\nDistance from m to km for ' + m + ' is...'
            print('Message being send to server: ' + message + "\n")
            socket.sendto(message.encode('utf-8'), (IP, PORT))
            data, address = socket.recvfrom(2048)
            text = data.decode('utf-8')
            print('Result received from server %s : %s ' % (address, text) + "\n")
            main_menu()
       
    elif choice == '5':
        print('\nThis is temperature unit conversion')
        print('1. °C to F')
        print('2. F to °C ')
        choice_temp = input()
        if choice_temp == '1':
            print ('Enter a temperature in °C: ')
            celcius=input()
            message = '\nTemperature from °C to F for ' + celcius + ' is...'
            print('Message being send to server: ' + message + "\n")
            socket.sendto(message.encode('utf-8'), (IP, PORT))
            data, address = socket.recvfrom(2048)
            text = data.decode('utf-8')
            print('Result received from server %s : %s ' % (address, text) + "\n")
            main_menu()
        if choice_temp == '2':
            print ('Enter a temperature in F: ')
            F=input()    
            message = '\nTemperature from F to °C for ' + F + ' is...'
            print('Message being send to server: ' + message + "\n")
            socket.sendto(message.encode('utf-8'), (IP, PORT))
            data, address = socket.recvfrom(2048)
            text = data.decode('utf-8')
            print('Result received from server %s : %s ' % (address, text) + "\n")
            main_menu()
    
    elif choice == 'M' or choice =='m':
        main_menu()
        
    elif choice == 'E' or choice == 'e':
        break;
    
    else:
        print('Wrong input, please enter the right input')
        main_menu()

                                          
print('Connection Closed')
socket.close() #close all the socket


